<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Interactive Orthographic Globe (Observable Plot + D3)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { margin: 0; display: grid; place-items: center; height: 100vh; background:#f6f7f9; }
    #container { width: 600px; height: 600px; }
    svg { background: white; border-radius: 10px; box-shadow: 0 6px 18px rgba(0,0,0,0.12); }
    .hint { position: fixed; bottom: 16px; font: 13px/1.2 system-ui, sans-serif; color:#555; }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
</head>
<body>
  <div id="container"></div>
  <div class="hint">ðŸ’¡ Drag to rotate. Double-click to reset.</div>

  <script type="module">
    import * as Plot from 'https://cdn.jsdelivr.net/npm/@observablehq/plot@0.6/+esm';
    import { feature } from 'https://cdn.jsdelivr.net/npm/topojson-client@3/+esm';

    const coords =

[[[[-21.48740093012417, 25.69485702884282], [-24.58004306611412, 21.99974623089123], [-29.59996504669809, 22.402302794308937], [-31.953133427831695, 26.53340769423688], [-37.15515344114197, 26.664335930022155], [-39.5353904154908, 22.737529603315625], [-44.307851815105856, 22.680244947040364], [-46.18247457668084, 18.914756857912426], [-50.75089930552418, 18.833522049909917], [-51.81384802371097, 20.49373895520481], [-53.18787140474504, 22.19677345881088], [-57.23011196400803, 21.8146389946083], [-60.03617531999626, 24.98746480098875], [-63.73633023843451, 24.369915046380928], [-63.98641894655858, 23.18542363894646], [-65.40723864874259, 20.97970390799356], [-66.68609854904248, 20.812430665830146], [-69.38326850163935, 21.32618352574739], [-71.73013580791827, 18.71393076637831], [-75.99854824376126, 19.35882343539422], [-78.53930229370525, 16.46956562230495], [-80.74513434718173, 16.733205120383765], [-82.72794198413503, 17.13343724860129], [-83.89124846795359, 21.24419924142965], [-88.29590003003727, 22.120730739616338], [-91.35930158406565, 18.628702191285885], [-96.05020989622146, 19.26900694125663], [-99.00408607712038, 15.551320300550213], [-103.81933932397637, 15.969878062915628], [-105.94643547761567, 20.212678725972662], [-111.01600127930239, 20.479742425174795], [-113.6290340058613, 16.486147588602186], [-118.48186571718101, 16.572699557873406], [-120.7266797125519, 12.651392432778689], [-125.23898938471632, 12.654413063468834], [-127.75650761238906, 16.42566424694523], [-129.22390101069368, 16.364888710749913], [-132.14080471892913, 16.072271835802038], [-133.89520751564908, 11.884131145297399], [-138.42043748614526, 11.22287623237951], [-141.37151007296615, 14.881959131410003], [-146.16007687374923, 14.110797540904425], [-149.3676428224656, 17.73753035354521], [-154.25484084592026, 16.797013674901503], [-155.7634836482284, 12.265823643881989], [-160.44607430026895, 11.231115019630433], [-163.71455965998953, 14.623074892227512], [-168.1728875957565, 13.44560433788435], [-169.2931299839693, 9.060308038526603], [-173.38014762578527, 7.9727938308414075], [-174.31673738369324, 3.8210244943304374], [-178.02519665249852, 2.9040374505798114], [-178.7982364398432, -0.9361637645983817], [-176.05696384421356, -3.9687969766095894], [-178.01560350077588, -7.529293806652375], [-175.92099346918747, -10.734014957224218], [-171.62613047887277, -10.215393994209876], [-169.13021843542504, -13.615007694572514], [-164.5273841217466, -13.002850555044567], [-162.74615099653175, -8.96214248286481], [-158.26377159894878, -8.243493259763849], [-155.27937408677556, -11.520974627273135], [-150.75270038391494, -10.680211197141583], [-149.89499129445545, -7.994339391610254], [-149.4028814909321, -6.672537737437516], [-144.9683236097968, -5.820413131280587], [-142.1510646286996, -8.89346257125266], [-137.87673173668102, -7.989894674599884], [-136.5755755886022, -9.440447666346104], [-134.98737104093033, -10.887602149584191], [-131.29818275576596, -9.876090877671764], [-129.7100658202636, -6.134248764846947], [-125.88346072177119, -5.21502760786271], [-123.79915370670535, -7.935015077996302], [-122.62483874300602, -7.616228186063614], [-120.04113378454103, -7.824187579675657], [-118.12335777862991, -4.986310192743098], [-114.02904784459383, -5.2429294095717065], [-111.84870286236902, -2.1675662435525274], [-109.71988821036106, -2.2812832631930218], [-107.80031250106053, -2.5640667726764135], [-106.47391434652876, -6.608494376194796], [-102.31681156298443, -7.3098511437293086], [-99.52316615028741, -3.7450437470058215], [-95.07033345637271, -4.3484866954754455], [-92.21612396381302, -0.6561288240742991], [-87.59400415255666, -1.1964275116101613], [-85.74830788668204, -5.520060963403992], [-80.99438115089971, -6.061929363987141], [-78.21816398026434, -2.2641433736476846], [-73.58831704620168, -2.7703025791670175], [-71.0160747003525, 0.901274271496053], [-66.64455573288102, 0.3760386871585963], [-64.72810407520194, -3.684741680505737], [-63.32276713921543, -3.8221019268338665], [-60.50309415506542, -3.9486914533379958], [-58.163640147998116, -0.07918007660184663], [-53.68204442813005, -0.17017772412858903], [-51.252815863927914, 3.813394894857517], [-46.5899429561277, 3.76138350054279], [-44.322948507187284, -0.3562094817730327], [-39.563133079118444, -0.44748322046602834], [-37.14019742640149, 3.5803293669296306], [-32.48012811254947, 3.4549175353760115], [-30.203425049597982, -0.6173843220866737], [-25.721264011811797, -0.6931851479671439], [-23.577254165479836, 3.152670815193172], [-19.42154916686706, 2.985051052916481], [-17.373147196370113, -0.8227221314451982], [-13.559193205964707, -0.8762512952424143], [-11.830186971127075, 2.638932741201293], [-8.412776379912247, 2.467580053183621], [-7.899841472392981, 3.559837831413195], [-6.064496108778538, 5.362739776582626], [-6.957444601114238, 8.664197475387969], [-4.013998443470464, 11.545295975414753], [-4.866872026589571, 15.219885219398503], [-3.2925648296836485, 16.718980405891937], [-1.7113099039779158, 17.935404581817405], [-2.4838650119479393, 22.197541386302376], [-6.84616569288798, 23.22581044564793], [-8.002013895306675, 27.502908667188287], [-12.948554583750909, 28.514935780874872], [-16.394662810970292, 25.007863044517464], [-21.48740093012417, 25.69485702884282]], [[65.9709521554062, 5.242929409571696], [62.72776317867667, 2.7916780404471604], [58.9668320668832, 3.9090460692491074], [55.70150722023228, 1.4476428602002083], [52.316592444657616, 3.6927532541940127], [48.94706885744921, 1.898270439192623], [49.07628278330157, -2.3547343129537177], [45.43387749209455, -4.428418751970285], [41.58665495463515, -2.0439831300982623], [37.62415943093452, -4.150912683092272], [33.66361927713152, -1.6772949381945044], [29.508441243966416, -3.781047572700436], [25.58678516686, -1.2704435740827693], [21.40032508185986, -3.335734857517352], [17.669408104914115, -0.8469844525190816], [13.611699107391518, -2.8447525350379235], [10.189893676135952, -0.43188476755339716], [6.386373526666488, -2.3418038147608624], [5.789350796390831, -6.624087908058834], [2.0862033788879364, -8.35716171802338], [1.7618400087581727, -10.46324037683844], [1.2793001655038674, -12.343247039532924], [4.541728885974603, -15.285730312483961], [3.6452135373622165, -19.349758459489138], [7.197179188234455, -22.373958345439732], [8.646974455428287, -21.94669609285209], [11.465300865151091, -20.922822426862055], [15.27756395681501, -23.752623710762254], [19.758670182797356, -22.00585426446814], [23.910011411582452, -24.69671125803906], [28.49188235445327, -22.684204115325596], [32.812319409411266, -25.145185646711305], [37.281129421664886, -22.885971422359724], [41.56782513851296, -25.066706608415128], [45.72802345879658, -22.624728935439105], [48.453609892132086, -23.913612778407924], [49.80147192896589, -24.603066514705624], [53.73887701345781, -22.089282598203656], [58.140059799917516, -24.011694715187474], [62.14628288124375, -21.187585569854463], [66.86923845534189, -22.898224484781245], [70.76438508401766, -19.814669490563922], [75.60183433053456, -21.280265937450892], [79.21397212690246, -18.03667420775851], [83.94979010377854, -19.26900694125663], [87.15744823840198, -15.990116090801747], [91.61868641088118, -17.03415634290803], [94.368931435732, -13.836853809820951], [98.70279884762454, -14.868802684797343], [99.25486565281827, -16.733205120383744], [100.07495083152207, -18.715079431931773], [104.00145175623874, -19.358823435394214], [107.14858593309295, -16.61724776253429], [111.17711329216905, -17.32339584591452], [114.23117809212035, -14.482400617733104], [118.02084684680113, -16.249348507267683], [121.19254253907259, -13.975215755765579], [125.29786499400346, -15.691263979641608], [128.72922962253637, -13.199442659470227], [133.04161575288833, -14.828508822503098], [136.62985321175947, -12.143150710647651], [140.99787004528466, -13.663288802531614], [144.61028231769941, -10.83867618195191], [148.86773106739847, -12.247495975510207], [152.36911904482506, -9.360957722014561], [156.37086889691636, -10.672390551299387], [157.571743031483, -14.65689912671653], [162.08954694409738, -15.729652374960152], [165.05418357227583, -12.73084648058285], [169.3943599560665, -13.645345830474795], [171.9300818517216, -10.7462912331855], [175.98600155652952, -11.545295975414755], [178.06043688175902, -8.00719366148785], [176.33760338440166, -5.048182136577354], [177.64333529652887, -2.8342226226867955], [177.85728757138187, -1.6469189364220578], [176.15596772887727, 0.27778361241154026], [175.0938278791749, 0.8499475652488013], [175.46041201203371, 4.248592317017825], [179.2171608248945, 5.88992175431389], [179.77693144202632, 9.615942399155198], [176.28993210653294, 11.794175727566111], [172.29426677728955, 9.978189493251357], [168.53745793093609, 12.10200548276957], [164.67056230846524, 10.175448079467838], [160.7733897026288, 12.194726726168003], [157.4358769401798, 9.643021108594695], [153.35922559786337, 11.466145661026697], [149.7748737561887, 8.701739974658006], [145.410940917621, 10.472716898667054], [141.69432910913807, 7.537486471095007], [137.1970727246292, 9.231452670299692], [133.49441060685513, 6.197676527808861], [129.04492009156368, 7.805398745803346], [125.50231533878872, 4.763431183575369], [121.26764633911117, 6.289184675341438], [117.99888533923311, 3.3267128731190114], [116.67723286078457, 3.8221019268338585], [113.98513214459506, 4.6721309865719345], [110.72399425598124, 1.5358657755021414], [106.41168295379833, 2.7703025791670135], [105.35716758404885, 7.303218576160169], [100.80136063472526, 8.618890658103629], [97.37304065193962, 5.289412273297663], [92.75068396053875, 6.523960823111651], [89.44185686196764, 3.1743094571295885], [84.9296665436273, 4.348486695475442], [81.85307387147245, 1.084853908628409], [77.5983036432562, 2.2233436292223394], [74.82676115190374, -0.8701881901666618], [70.68986972642183, 0.38646139108642585], [70.28011178963894, 2.2812832631930138], [69.63381057288798, 4.311473809758376], [65.9709521554062, 5.242929409571696]], [[-86.77148687822637, -13.708575981512867], [-88.64569445957765, -9.316288774752769], [-93.36023548123568, -8.68032330906325], [-96.27780158747441, -12.344265741825291], [-100.79150611535313, -11.573007348022395], [-103.63011704459393, -15.001447764157023], [-107.81475064831358, -14.083697371265826], [-109.1289979665708, -9.955680589617998], [-112.90853605006426, -9.146555719787036], [-115.37292169585125, -12.225768873349038], [-118.7400731016433, -11.320482944588], [-119.49774674226667, -12.271971757766302], [-121.74458895430429, -13.61493421960813], [-122.9057748487485, -13.1912604678976], [-124.88652085283472, -11.501694573369313], [-128.19551469837577, -12.603201514978364], [-128.5487287607648, -16.505445569112272], [-132.3041912497708, -17.797749012021782], [-135.6451966084015, -14.89654614400257], [-139.785050801395, -16.05027003530367], [-143.12501254564776, -12.93503437236234], [-147.53473330977212, -13.929125816704278], [-148.8063085814878, -18.242012526672724], [-153.60986495294128, -19.22050575143427], [-156.8451104387456, -15.73745539193679], [-161.63482061718392, -16.505947603561054], [-163.50685862215772, -20.807842018632027], [-168.45624973959934, -21.38124691750292], [-171.15883789403625, -17.692218373206735], [-175.76570557732126, -18.098845255143683], [-178.00242433382851, -22.067175689495624], [-175.58667152884377, -25.876899790610707], [-177.99428002774027, -29.865766952798836], [-175.3779980678874, -33.802924798463245], [-177.98474535021083, -37.66435763083125], [-175.13166788498833, -41.58031489516635], [-169.24504853208808, -41.57505304930814], [-166.75568652434018, -37.5237123657852], [-160.9403859524235, -37.02901921647205], [-157.12328978112583, -40.608843552222844], [-151.1531311528209, -39.643310547712694], [-149.48388394533063, -35.182951208422544], [-144.05833935288697, -33.88647014000823], [-139.98609609464688, -36.899865495748365], [-134.94561422689418, -35.22985924555321], [-133.59548966289495, -36.11444480483865], [-130.70129092236525, -37.719798673929276], [-125.76880779579237, -35.53435944708938], [-120.8496732763327, -37.656443450315685], [-116.07565773033956, -35.01417583784235], [-110.73714537281448, -36.730184508009465], [-106.40738231200352, -33.70575303795421], [-100.97002387578763, -34.97529051965555], [-97.28316374371491, -31.717351794521758], [-92.04216392358965, -32.58486408488775], [-90.01675042991198, -30.360710911742927], [-88.97436860014163, -29.280171655412424], [-83.85560259366653, -29.864781548005666], [-81.77149574422948, -33.62106978068353], [-76.58060559840007, -33.8826639775661], [-73.64474708628364, -30.42847490174807], [-68.71005428511454, -30.415400329702248], [-66.56945830484808, -33.77089612652205], [-61.8827346387928, -33.43902448232616], [-59.496606140042005, -29.892985338693553], [-54.854902432945465, -30.51202973135771], [-52.32307433842227, -27.407024752708203], [-47.461171008275414, -27.760043738207102], [-45.0960175181045, -31.25985351902173], [-42.60440009202195, -31.331748636163976], [-40.34519809240025, -31.537999211685964], [-37.56677824334244, -27.949605976503904], [-32.86417200841555, -28.051410241915995], [-30.536960890385416, -31.966206554283037], [-25.255959312090404, -31.88396300415958], [-22.80583317022407, -27.731134161429946], [-17.584865210837965, -27.274993974879003], [-14.325789953114501, -31.015442711548175], [-8.870093365769497, -30.224678744640975], [-7.175238133455658, -25.769382636267903], [-2.1530562884085485, -24.756909421354475], [-0.8944928371519195, -20.427514765045647], [-4.255457128460979, -17.214910773697703], [-2.992177352218251, -13.210646854422853], [-6.057176815534761, -10.194121685274], [-4.805183856824203, -6.586859421326589], [-7.615506108749893, -3.845828260484011], [-11.66474754212644, -4.4670316097845], [-13.171003636817149, -7.923775520601627], [-15.29921963706058, -8.23708394319924], [-17.255986711053566, -8.330334446485908], [-19.325125801816437, -4.604844470308616], [-23.52422244327238, -4.645743871293199], [-25.6916111818247, -8.621215172764755], [-30.225126243811296, -8.70173997465801], [-32.528267829318835, -4.649620438680767], [-37.243135362944614, -4.606028555705817], [-39.69515515754569, -8.69674378039496], [-44.50963460024756, -8.604422032304726], [-46.800487381563165, -4.422917404204754], [-51.51182762864842, -4.287152921751077], [-53.96609188290457, -8.249605946164333], [-58.48709482803756, -8.000707509888285], [-60.8467507782339, -11.739863893210977], [-62.279488468450026, -11.610616592954976], [-65.15017429804568, -11.472123671112495], [-67.11855039005962, -7.389406912237246], [-71.61986799886888, -7.003123550980988], [-74.27563926949468, -10.846247154674371], [-79.03684380916933, -10.410683770602718], [-81.89888176783417, -14.264150052057268], [-86.77148687822637, -13.708575981512867]], [[126.34694261516329, 38.738746175246234], [125.58523433471171, 37.691245462372], [123.16276457697892, 36.005614448071945], [121.690153924224, 36.20528264541884], [118.86929883406582, 37.4298544842811], [115.34096073223206, 35.52242379555109], [110.69461054882272, 37.16389648579594], [106.96772054606103, 34.90299087075072], [104.50431619290684, 35.604156879765036], [102.30325327948644, 36.369976008694486], [98.22850425577052, 33.62106978068352], [93.43166846596249, 34.85693363509917], [89.5797723881596, 31.72668530390849], [84.47960117594232, 32.5899433367004], [81.02837815214555, 29.17375414949066], [75.86840220674935, 29.662738501442483], [73.59261768799648, 33.70575303795421], [67.9828900331216, 33.902396769499795], [65.31584973168053, 30.032244941109695], [60.099069300235215, 29.903560266766736], [56.94985342520008, 33.54604933168178], [51.718680011231655, 33.030250479520696], [50.187903612796035, 29.08939213814528], [45.67876237395104, 27.848757985138352], [42.0262939935408, 30.891357297171993], [37.16428242437894, 29.339076105087567], [32.928330868996916, 32.24010231871653], [27.91172984348016, 30.313708747237165], [27.504442850291092, 25.566738583888263], [22.83929753527266, 23.411689797815992], [18.351304577591982, 25.86678026136113], [13.915183885634578, 23.450437715320348], [9.380676605201614, 25.603702576968765], [5.3675737051231645, 23.01114705036288], [5.882262995803539, 18.516052400096086], [2.302842809205857, 16.098688642959495], [2.88810760150022, 11.881770859938996], [6.801169317009782, 9.899743070823428], [7.212914562720072, 5.860392168376587], [9.102371418548282, 4.860811812073258], [10.722777827285633, 3.789624991750129], [14.583250071411674, 5.762860491436915], [18.09981644071494, 3.5346227999232194], [22.136132249356994, 5.527020080114615], [25.886010570251138, 3.202074339142956], [29.961298273611618, 5.1819226249528905], [33.814945033944454, 2.8026599483934844], [37.77676428812329, 4.74095538189142], [37.848935371300406, 8.893462571252645], [41.86780918021332, 10.627353551154322], [43.42442441139784, 9.440447666346104], [45.240404460013565, 8.292129888631607], [48.70181724423405, 9.876090877671764], [52.13941397202456, 7.605969353681876], [55.2505622892379, 9.09268603178858], [57.375161256993955, 7.6162281860636245], [58.54988276272472, 7.302087248609318], [60.638711932789995, 8.825639091130398], [61.315435771664646, 9.83036925628956], [64.70807868588638, 9.132230941835733], [67.03356105469996, 12.31424293862071], [70.86172974036968, 11.593032005402348], [72.19363429195394, 7.473863638092713], [76.26408541439847, 6.511600732441479], [79.17056508080194, 9.844673375903138], [83.59315755505943, 8.82060245673717], [86.80542094987004, 12.238125270361769], [91.464698892715, 11.11188905936001], [94.89357672220478, 14.501202967940499], [99.62104197842224, 13.236333300082233], [103.13773328689898, 16.482450442847686], [107.74262433198103, 15.063301114735607], [108.77247792549403, 10.50768755405878], [113.09327126386995, 9.10538636195205], [116.37231939217895, 12.105101652283977], [117.72051153154996, 11.610616592954969], [120.449366342475, 10.736966167684393], [123.85482415801252, 13.797500809062365], [128.2235738321257, 12.387611570633615], [131.87381670052898, 15.422507023667904], [136.4065502724283, 13.866921861790894], [140.1697245352548, 16.779214626193742], [144.6843894988152, 15.071456211059555], [148.40568576193812, 17.78359946080229], [152.72123821625237, 15.944244424286081], [155.0908180524783, 17.612650219785667], [156.3345017757493, 18.378344876415618], [160.52670878987635, 16.340968799924067], [164.53519134064652, 18.52280839538614], [168.65279280829242, 16.286127926718756], [172.88878640797157, 18.30669067889132], [173.23062212965775, 22.777763428069576], [177.84694371159145, 24.75690942135447], [178.4754053347224, 29.376139351007172], [174.02804175387834, 32.1119243692579], [174.49688633843544, 36.85680682151307], [169.44151026908685, 39.479372566043565], [164.1680060221127, 37.123942760722066], [158.84760391998597, 39.272303820667766], [154.09368225574624, 36.51782797902878], [148.85692557335597, 38.18237993929451], [144.83132547405447, 35.18743046995051], [139.9482130546856, 36.44177765047697], [136.69764123177848, 33.37879798624116], [132.30837745804203, 34.33115860097917], [130.6575327073045, 38.19456373764813], [126.34694261516329, 38.738746175246234]], [[141.66073693202935, -17.838743925532082], [137.8726089328045, -20.55227807200681], [133.81752542331913, -18.914756857912398], [130.03291064326643, -21.37873251232251], [128.186151976289, -20.493738955204808], [126.0896945858073, -19.680474994025868], [122.76988803599195, -21.814638994608284], [118.79998258959921, -20.095984004086613], [115.75931573815498, -22.002085574481583], [113.31390145095753, -20.81243066583014], [112.03668485952855, -20.643702793693453], [110.0191091277662, -22.39752742353522], [109.42003666893777, -23.470380968779807], [105.71797151261644, -23.11880968295901], [103.52781506674853, -26.49429123770875], [99.30143515528009, -26.062694311272722], [96.57920207807338, -29.571467376092365], [91.82972821115736, -28.973403097559856], [90.1834152682512, -24.697760964142326], [85.38151705992367, -23.73986771479646], [81.86961002164873, -27.145530873716577], [76.80034905847296, -25.912524768601525], [72.86444302724134, -29.15113592910695], [67.75194812766243, -27.591432296604456], [63.558468744433696, -30.533964896959827], [58.663371667348294, -28.65301931148454], [54.42644170672916, -31.225723979081465], [49.97282131199014, -29.090245038000415], [45.89351102822209, -31.285608665560563], [41.56358261344398, -29.46937931531951], [37.08745257905972, -31.777487752342214], [32.62032671222644, -29.62445406401754], [27.91894102367205, -31.644146771138406], [23.533518085486477, -29.1666457310175], [18.839987045173043, -30.86103232978591], [18.3529219486429, -34.99400669710762], [13.789579630965138, -36.89269962490027], [9.551545939792542, -34.155186609801476], [4.43567077495152, -35.741206971176496], [3.2761575769758524, -40.31599783007281], [7.859781245317266, -43.217060122954415], [6.82999771802908, -47.67984833396268], [11.961579249863, -50.162272394795856], [11.153993205628135, -54.38852804531911], [14.006700032453024, -55.4225091325656], [17.468798446926456, -56.29657975847274], [22.717229081284433, -54.01377148101902], [29.49980276027751, -55.133688198158374], [33.34490980850574, -52.57479276042742], [37.54121894075451, -52.9686073691119], [39.47973301456596, -52.67984228858088], [43.081393787282614, -55.36583039668758], [49.50125116496664, -54.09460398431849], [51.090146189862246, -50.15451159756744], [56.2145859262297, -48.41499723110689], [59.0924552109795, -49.39503397118231], [61.679410390963234, -50.38551078187042], [67.21199607170564, -48.011188120377795], [73.06904671652028, -49.54882288394545], [78.10517846431846, -46.57467022471412], [84.4201365426124, -47.511000583160836], [88.61576109110958, -44.062790040561886], [94.90986169173487, -44.38248318374426], [98.08037300109167, -48.295316381881364], [105.07052428717569, -48.06601289912326], [107.67661838081875, -43.964363305988726], [113.84087368285792, -43.24164819563601], [118.38709615825293, -46.412467442598675], [124.41037456411709, -45.09612715436975], [129.65015692436307, -47.766522183321335], [131.53604464447062, -47.1663973236616], [135.07445645775948, -45.755276550084716], [140.9176092122301, -47.86715402021094], [146.17127510537844, -45.21221585934099], [152.50707693963324, -46.76027724369226], [157.27774152798068, -43.54372570815056], [163.61430492268605, -44.491234954468226], [167.61587312700956, -40.869133191665526], [173.53581801576217, -41.30855957084678], [176.68865874692344, -37.499409186860944], [174.3327283772542, -33.405709481234645], [177.1417180269033, -29.709916100270615], [174.98441150036325, -25.646518175135377], [177.51613498805204, -22.197541386302387], [175.52711991035227, -18.297332900396515], [171.12219885479456, -17.561549237648155], [168.32485084432005, -20.80838745157097], [163.60351763530443, -19.889828368813912], [160.31253533179913, -23.164690007884964], [155.41995693388589, -21.99974623089123], [151.70359372556445, -25.170737543759536], [146.84607371901134, -23.72180395121882], [146.0414086198563, -19.30220339543153], [141.66073693202935, -17.838743925532082]], [[-76.05772874399094, 50.99021068384577], [-81.91962699890831, 48.295316381881364], [-88.65412421340821, 49.81242268121324], [-93.39584904234347, 46.630019541751885], [-99.9170487939702, 47.471519107155316], [-102.32375592668524, 45.1976278061656], [-103.5359544106562, 44.08337983698416], [-109.78838725262649, 44.41307088095467], [-112.78800392829434, 48.011188120377795], [-119.23221501743073, 47.80409716753512], [-122.13483148443464, 44.05769081450337], [-127.95866237076233, 43.41920841314796], [-131.2901594178203, 46.41694831075058], [-136.7018216781215, 45.34099129109545], [-140.06320040294017, 47.862031640242165], [-141.72110208965793, 47.40667245951889], [-145.50148773440654, 47.229253562009625], [-147.45009391663316, 44.09362423911828], [-153.03739182353243, 43.44325276436557], [-156.03631344405528, 46.90887469576172], [-161.56979335131368, 46.51349897531834], [-163.39292691687498, 42.461841701752746], [-168.8876761772056, 41.53861492567143], [-170.27191812997154, 37.14623592274974], [-175.56432922504848, 35.741206971176496], [-176.54267313535857, 31.148162090824524], [-172.64626329548403, 28.20896181794974], [-173.6703874763115, 23.782822700979136], [-171.3530255445717, 21.946696092852083], [-170.26790510748518, 20.964113606206052], [-165.75801721847134, 22.310289219453917], [-162.39694129463984, 19.114485874069658], [-157.6068486027842, 20.259691594705036], [-156.08998858841755, 24.696711258039056], [-151.04796662686522, 25.669243623986258], [-147.69594788211106, 22.16693900740581], [-142.7188705783351, 22.885971422359724], [-139.6214919325493, 19.2239309458196], [-134.89965579269537, 19.7532105149965], [-133.08381598345164, 23.820431161854447], [-131.54639010786792, 23.913612778407924], [-128.4779115319772, 24.19492082737583], [-125.79514460772695, 20.415980206926488], [-121.01253489901505, 20.57399140249709], [-118.63264326814091, 24.676154575544953], [-113.46044826906298, 24.671633767522994], [-110.66261804031069, 28.72380952741313], [-105.25067839657362, 28.43865978592777], [-103.01162576662247, 24.12172726544782], [-97.90563426634658, 23.589794368093237], [-94.74356847987167, 27.26400561736174], [-89.80771154120198, 26.42647813530849], [-86.54577821124968, 29.759287059695453], [-81.9664941624314, 28.63180650194559], [-80.82969048713068, 24.429618069495433], [-76.8312173516333, 23.342862880634836], [-73.86827872769487, 26.19044873092739], [-70.33904370008679, 24.945215618732814], [-69.40349518337901, 25.805978646929855], [-66.79574711847854, 26.872316674232128], [-66.41090036021146, 30.2738899624896], [-62.02252554784451, 31.877885956365812], [-58.972372274137555, 28.788083858698766], [-54.67394745626158, 29.457126834825857], [-51.70374278490925, 26.024129726893676], [-47.09234080406861, 26.387727327373366], [-45.101964247992925, 30.42765660497883], [-39.90371712605461, 30.658039731336256], [-37.30966446935987, 34.76793171992824], [-31.590030919491358, 34.71446768669329], [-29.030406967463787, 30.469788192503234], [-23.54251737908868, 30.029487035562912], [-20.10838274495798, 33.794127804904804], [-14.570452111245075, 32.95438593767852], [-10.744488220052984, 36.383229951792835], [-5.442348460730083, 35.12442405176797], [-1.4162342628377007, 38.1159967227654], [-2.4177958307002183, 42.54047996565121], [-8.101589192291547, 44.0506310521871], [-9.724736207832674, 48.43009421958324], [-4.889760342933783, 51.22372845966178], [-6.436337296790293, 55.37739041554851], [-13.79164665163863, 56.73632442836386], [-18.841171686388577, 53.74020675223833], [-26.42076829683686, 54.35117905265651], [-30.59296189548184, 50.75085829394896], [-37.73288919120909, 50.66238203129508], [-40.25381280135515, 53.008820458308634], [-41.51955822321931, 54.201077797482284], [-48.90245004939705, 53.53097474699997], [-51.28843730002799, 49.26164550158302], [-57.83787165548379, 47.957631356793456], [-63.20077399553516, 50.77050266836529], [-69.71947899952944, 48.757431677563375], [-76.05772874399094, 50.99021068384577]], [[2.026568965384611, 45.18424868970644], [7.50994848192889, 43.78660935394502], [8.045142114241342, 39.40213636897177], [13.244313475659819, 37.523712365785194], [18.325260281104836, 39.98817796336323], [23.474780873002853, 37.6303425743379], [28.846868847179124, 39.64331054771269], [33.614583723213144, 36.85866401664056], [38.930217596746424, 38.400687413420364], [43.07440081871427, 35.326155690177366], [46.404510337105044, 36.11444480483865], [48.11443574118379, 36.404918747900226], [49.67064440002375, 40.63612336794766], [55.52729405295955, 41.39291048343534], [59.150326723667334, 37.656443450315685], [65.03033141654677, 37.894403776101235], [68.0486075236378, 41.98577467201586], [74.43633811146184, 41.761836643769904], [76.94535091342905, 37.477284318316336], [82.7286870762826, 36.835377392607754], [86.70820981047306, 40.31276675619656], [92.34774404572356, 39.17381250225141], [96.77091959116152, 42.20694073128457], [101.93382777845231, 40.615119547681495], [106.53560104056335, 43.13981346746202], [110.98113865629122, 41.21659856438631], [115.50113901102064, 43.25414167974318], [119.13690952882241, 41.14827082786993], [120.55588074330021, 41.71719444493961], [123.98412056729994, 41.99937425331303], [125.98114176677377, 45.09643436908034], [131.77440098149353, 45.2536134909801], [134.76393627595755, 48.41801789173906], [137.965723000237, 48.30438780776228], [140.81932027711574, 47.94353494620577], [142.3058437365082, 43.816094965537175], [147.81728377284585, 42.633406882356155], [152.544806053949, 45.62266462732754], [158.38289640953528, 43.912304017571415], [163.91021485526235, 46.48282657751594], [169.66101739290986, 44.17622039141847], [175.6209968167824, 46.180014657090155], [176.3024402828945, 50.63969712744497], [170.19881569013583, 53.14363558473362], [170.41580816696182, 55.956862850498176], [170.6673809942136, 57.359097831564405], [163.34704729720406, 59.5364130976333], [163.0408721046586, 64.01659592046677], [172.86137139869209, 66.19292316051032], [174.7489392452071, 70.79472682488495], [161.9120756666221, 73.36886176605667], [149.98712931534274, 70.36472443894682], [135.69544064746276, 71.07580205245384], [129.384260762246, 66.94915555373028], [117.81292538828086, 66.20328559643201], [115.45092688260333, 61.84098848787113], [106.865913193906, 60.356642583739344], [98.78655602562978, 62.66968760697614], [96.24007716393278, 61.9058217663108], [91.70963813960333, 60.139795359435674], [82.82707956961833, 61.436707955225096], [77.08692220857513, 58.00933225078081], [68.25632325438265, 58.31910366055611], [63.44462184184533, 62.114389785017146], [53.98254701603947, 61.44092061568186], [51.15131422930827, 57.15637211465772], [43.54748161718774, 55.820803924848654], [37.661108111591226, 58.48066299220258], [31.09581420470738, 56.47000529592752], [25.082722326707867, 58.4015448703527], [18.275235951757786, 56.63295271905083], [11.555977692900699, 58.130531165851394], [5.52364654929031, 55.70676846515228], [6.259687055981994, 51.96477015603749], [3.6300086390995316, 50.610463312569514], [1.188509553443467, 49.47027919866874], [2.026568965384611, 45.18424868970644]], [[-30.806932960779864, -39.89128943394795], [-33.347657525615396, -35.83924212521622], [-38.48352799492271, -35.5000792042008], [-41.55853757447226, -38.98109995890206], [-46.34780116487943, -38.2428757141176], [-49.5601218973156, -41.284599348781846], [-53.84970300036963, -40.22211498519529], [-54.41476566528829, -37.69124546237201], [-55.16400420796509, -36.64293584360806], [-58.30984607577598, -36.20528264541885], [-59.78817573003526, -36.394827059119166], [-61.4171149104145, -38.614966776614985], [-61.70280552750993, -39.800881986666845], [-66.10309206061781, -40.39961129392156], [-69.30538945117728, -37.16389648579594], [-74.03195141021533, -37.37997452587736], [-76.08418654491567, -41.11623193061337], [-81.59868378041229, -41.1397166562878], [-84.56226711484148, -44.973945632397005], [-90.86103333532054, -44.61996649658839], [-93.29179018952695, -40.31276675619656], [-99.24277102208288, -39.420496754076936], [-103.57871397726349, -42.800877820837385], [-109.69362310318317, -41.359581468551546], [-114.77869079730516, -44.3219897776707], [-120.61562782671386, -42.305966242342], [-126.11128773724835, -44.70954356692923], [-131.2504037234426, -42.22096583203444], [-136.741605440075, -44.04754241934246], [-137.85800962888652, -48.470618150310706], [-143.8832763682254, -49.77934286766213], [-148.57772787468684, -47.03191968899236], [-155.04758817582032, -48.08486658471021], [-159.29947435786374, -44.79686404516598], [-165.6627937175554, -45.2734322258347], [-168.35160369217152, -49.0393451307964], [-174.83648905843094, -48.943763955054905], [-176.36999136090046, -50.610463312569514], [-177.89868601605255, -52.51713397842229], [-174.47635345070967, -55.70676846515228], [-177.80178395942485, -59.383886486983954], [-173.84090406007633, -62.20500536598249], [-176.3000667397121, -64.52560842196837], [-176.6219248703129, -65.7243888731199], [-171.86973896781137, -67.46842788455002], [-168.8667199640939, -67.85995297513011], [-168.0098327233773, -71.26523337833439], [-155.80725235262844, -72.09707420590918], [-148.1687195009127, -68.92995788193986], [-137.9160562769237, -68.38209527813018], [-136.10157919771405, -64.38736055548594], [-127.3139783583892, -62.94301605404717], [-118.48506240101176, -65.25273108770253], [-110.22566765060147, -62.7392877671267], [-100.50030139306155, -63.939145038328846], [-94.1642343610987, -60.51030677274728], [-85.19691484338917, -60.67735411936203], [-83.75992283606729, -61.905821766310815], [-80.24656841679338, -64.23021521485094], [-70.22334064229605, -63.30546259246108], [-67.91951423550528, -59.04446657501831], [-60.00652075270777, -57.368693769759474], [-52.681573820492034, -59.54334767165103], [-45.61544014350358, -56.96495838789853], [-37.51226099240144, -58.23555192165026], [-32.107870553013484, -54.98575947058211], [-24.26992619768622, -55.37052237191946], [-19.92958173787226, -59.096557065213155], [-11.22722997525273, -58.62952020387534], [-9.584191833038208, -55.956862850498176], [-8.7291680146373, -54.63456191069657], [-13.55059103563392, -51.32191270194406], [-11.029925556951396, -47.15173201826695], [-4.3790031832176455, -46.180014657090155], [-2.6107760281438304, -41.70426599254369], [-6.849807213223577, -38.30496354724654], [-12.851127423934322, -39.177426167855764], [-16.51271047421299, -35.410811261589316], [-22.272456071228092, -35.82316671778093], [-24.96132796979017, -39.96484113905747], [-30.806932960779864, -39.89128943394795]], [[-34.75841798028471, 81.27137179020501], [-45.91067006571702, 77.6358967544068], [-65.32649015145262, 76.66757659192989], [-84.34895424909982, 78.73560128535237], [-98.25189182399922, 75.42296242259827], [-115.6016830241182, 75.13310683752093], [-119.32824140495745, 76.19875754188193], [-129.04688648576501, 78.00335975517777], [-145.35543575349868, 75.43128251813995], [-163.45686807900944, 76.14556732608257], [-171.11065695414112, 71.97154653078344], [-163.8729684603252, 68.21921734529464], [-169.09171800224814, 64.21420040783376], [-164.0655884448202, 60.72912581441262], [-168.0262941563394, 56.99746478128345], [-175.74821876841355, 56.19652224584304], [-177.04785603399293, 52.113519976620616], [-171.87311046039585, 49.05085282910134], [-165.61336675442524, 49.89597414875072], [-163.66453871424696, 53.773571456509124], [-157.28277091871553, 54.01377148101902], [-153.78137213372952, 50.5331018823282], [-148.41135616643643, 50.423740032442545], [-147.55974651599715, 51.50437545423507], [-144.4245651319535, 53.21749558931391], [-142.45878105924547, 52.9686073691119], [-138.99195596812496, 51.52127910420027], [-133.85114156470928, 52.84669103300532], [-128.90985381013775, 50.154511597567456], [-123.12286550407035, 50.984711281689044], [-121.4424549287285, 54.916649815151494], [-114.22928039520944, 55.4783881395021], [-109.99461055319725, 51.75486598535891], [-102.90229770085304, 51.55677580791122], [-98.56184761891002, 55.218550700351585], [-90.6514460154606, 54.300916137492074], [-84.54003278821037, 57.52364604763142], [-76.55890845203461, 55.6803963083049], [-69.0549959056329, 58.110019274352645], [-62.07826603752657, 55.37451169620835], [-54.16389762671933, 56.86222737436078], [-51.550082921060856, 61.33081918088026], [-42.19852987664649, 61.972726906031674], [-37.741944187946864, 58.170123409126475], [-29.882335644494077, 58.03211375817635], [-24.57076597472634, 61.43040476232069], [-20.65092627345633, 60.98827691429016], [-16.37196241724275, 60.568693514800785], [-10.444977544778325, 63.095054077525454], [-10.558792289389459, 67.1535478452051], [-19.871380589088925, 68.6781104931821], [-22.407627638775807, 72.92129484534789], [-10.985283977307283, 75.5580182962511], [-11.18274950256939, 77.68777876614904], [-10.416534576215849, 79.62054525867497], [-34.75841798028471, 81.27137179020501]], [[175.42161758601702, -52.79243904276302], [172.5394909199373, -49.05681780552429], [165.86503387311802, -48.69906061825518], [161.22576672897168, -52.12149149190321], [154.12397758128557, -51.11545209860288], [148.60245859405032, -53.96605569703897], [141.69331449095665, -52.24163986312104], [139.74618719864486, -53.008820458308634], [135.77030496675965, -54.56320665897179], [129.34330410144213, -52.16478116101679], [122.4663386199827, -53.900134937976425], [116.79922600446484, -50.77050266836529], [109.52240303455929, -51.73263802593274], [106.56152524549057, -56.097969987348556], [98.00467249939058, -56.37872863204192], [93.13338768661211, -60.400005225956455], [83.81984481326035, -59.6924457669829], [81.43815238108998, -55.21855070035159], [74.0388395202389, -53.910446928597366], [67.74041932034174, -56.66736999977179], [68.12424998080402, -61.18381291868138], [59.99228294010169, -63.4539330475255], [53.05571633154158, -60.85001635271577], [44.99484376546598, -62.161511388554544], [40.31640651839021, -59.16948256665967], [32.50139969076801, -58.69272286234608], [27.497924176806205, -61.583334933903004], [19.009114758061546, -60.27519181750238], [11.872490908645235, -62.65341059232735], [12.808669900673326, -67.0381940847398], [2.2626284426897936, -69.21258919215596], [0.8335679005817301, -73.84381829918738], [16.543131920990525, -76.14556732608257], [21.151786939540855, -80.72172286490245], [49.509760006773256, -80.92220862231946], [54.976005154986076, -76.64501335405268], [60.67175859504254, -76.19875754188197], [70.54359227776199, -74.83432166792294], [87.74799647552526, -76.34572913617531], [97.13871644067184, -80.33224174967269], [122.54169441685293, -79.49208922409562], [125.2456182890761, -75.12848264807121], [139.09944786006776, -72.70830963415911], [153.13247928231416, -73.85617864759341], [160.7671370798629, -70.30015374059282], [172.05743696166337, -70.17612110688735], [175.12130159942038, -66.4250610395259], [169.5550224552217, -63.095054077525454], [174.49766507469988, -59.79185517035779], [171.25910036945749, -56.38258811071852], [175.42161758601702, -52.79243904276302]], [[31.517537185292593, 64.87303661186431], [31.831280499087377, 68.92995788193983], [41.09749729154039, 70.96471952348472], [46.47229116360072, 69.82855264652378], [50.52420090534295, 68.52987901066768], [62.34534495650971, 69.39359648991828], [67.04817195975176, 73.26746640072776], [82.2191189236603, 72.9747801211237], [94.14309010184776, 76.163042830191], [109.85869817326203, 73.85683569908095], [126.86805888148528, 75.09700284062423], [136.93797037496347, 79.32046590614668], [118.57660603902232, 83.15405442466329], [145.5581976913369, 87.36469532319619], [8.384360674741012, 87.82361750161158], [33.23852823745463, 83.59754993234792], [13.88006441861331, 80.34595244233691], [23.46937321934182, 76.53550099989292], [14.551845028116844, 73.4874564977175], [20.59724429383507, 70.05215151950884], [14.81365872582757, 67.35176867523612], [8.130261032188706, 67.46842788455002], [5.239258880169461, 67.01563262841769], [3.699933260287894, 64.5256084219684], [4.012620898449968, 63.3270613280184], [8.644221197607186, 61.8908384753262], [11.080660058482366, 61.5405146000252], [15.771773841154108, 62.889968357962516], [17.535446308408336, 63.800792653212156], [24.517172437523477, 62.478113451924735], [31.517537185292593, 64.87303661186431]], [[-25.001755365954338, -71.0720426766047], [-39.295267881631744, -70.36653885229539], [-51.21089185186892, -73.37525345776886], [-64.06362884682201, -70.80573675666331], [-78.21017162371925, -71.98699598123666], [-85.85690989815225, -76.163042830191], [-103.98485051466383, -75.45226049628373], [-120.31585905866002, -78.0257182142187], [-133.88991696089687, -75.23051359343751], [-150.7925342912893, -75.65094362106626], [-164.32460615388686, -78.79915742230948], [-159.0907444817528, -82.87200197672584], [-124.07451529163777, -82.50396355374549], [-87.34455122467277, -84.24413301148068], [-34.441802308663334, -87.36469532319619], [-7.780834308185192, -83.14393672156828], [-26.191155035564694, -79.31717648987741], [-16.158956222032586, -75.08989276640648], [-25.001755365954338, -71.0720426766047]]]]

;


    const poly = {
      type: 'Feature',
      properties: { name: 'Rough CONUS outline' },
      geometry: {type: 'MultiPolygon', coordinates: coords}
    };

    // ---- State for interactivity ----
    const state = {
      rotate: [100, -40, 0],   // roughly centers the U.S.
      width: 600,
      height: 600
    };

    // Load coastlines (land) once and convert TopoJSON -> GeoJSON
    const landTopo = await (await fetch('https://cdn.jsdelivr.net/npm/world-atlas@2/land-110m.json')).json();
    const land = feature(landTopo, landTopo.objects.land);

    function preview(geometryOrFeature, rotate) {
      return Plot.plot({
        width: state.width,
        height: state.height,
        projection: { type: 'orthographic', rotate, inset: 1 },
        marks: [
          Plot.geo(land, {
            stroke: '#88b',
            fill: 'none',
            strokeWidth: 0.8,
            strokeOpacity: 0.8
          }),
          Plot.geo(geometryOrFeature, {
            fill: 'red',
            fillOpacity: 0.45,
            stroke: 'red',
            strokeOpacity: 0.7
          }),
          Plot.graticule({ strokeOpacity: 0.06 }),
          Plot.sphere({ strokeWidth: 2 })
        ]
      });
    }

    const container = document.getElementById('container');

    let frame = null;
    function render() {
      if (frame) return;
      frame = requestAnimationFrame(() => {
        frame = null;
        container.innerHTML = '';
        const svg = preview(poly, state.rotate);
        container.appendChild(svg);
        attachDrag(svg);
      });
    }

    function attachDrag(svg) {
      const drag = d3.drag()
        .on('start', (event) => {
          drag.startX = event.x;
          drag.startY = event.y;
          drag.startRotate = state.rotate.slice();
        })
        .on('drag', (event) => {
          const dx = event.x - drag.startX;
          const dy = event.y - drag.startY;
          const k = 0.25;
          state.rotate = [
            drag.startRotate[0] + dx * k,
            drag.startRotate[1] - dy * k,
            0
          ];
          render();
        });

      d3.select(svg).call(drag);
      d3.select(svg).on('dblclick', () => {
        state.rotate = [100, -40, 0];
        render();
      });
    }

    render();
  </script>
</body>
</html>
